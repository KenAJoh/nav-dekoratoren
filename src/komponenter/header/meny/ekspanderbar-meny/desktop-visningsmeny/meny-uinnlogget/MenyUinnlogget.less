@import (reference) '../../../../../../styling-variabler.less';

.meny {
  @hovedseksjon-margin: 1.5em;
  @hovedseksjon-cols-sm: 3;
  @hovedseksjon-cols-md: 4;
  @hovedseksjon-cols-lg: 4;

  @bunnseksjon-margin: 2.5em;
  @bunnseksjon-cols: 3;

  .lenke-stil() {
    text-decoration: underline;
    &:hover {
      text-decoration: none;
    }
  }

  .col-setup(@cols, @margins) {
    flex-grow: 1;
    flex-shrink: 0;
    flex-basis: calc(percentage(1 / (@cols + 1)) + 1px);
    max-width: calc(percentage(1 / @cols) - (@margins - @margins / @cols));

    &:not(:nth-child(@{cols}n)) {
      margin-right: @margins;
    }
  }

  &__meny-uinnlogget {
    display: flex;
    flex-direction: column;
    width: 100%;
  }

  &__topp-seksjon {
    margin: 1.5rem -3rem;
    padding: 1rem 3rem;
  }

  &__topp-seksjon-lenke {
    .lenke-stil();
  }

  &__topp-seksjon-tittel {
    margin-top: 0.15em;
  }

  &__hoved-seksjon {
    display: flex;
    flex-grow: 6;
    flex-wrap: wrap;
    justify-content: flex-start;

    @midLimitWidth: (@desktopLimitWidth + @tabletLimitWidth) / 2;
    @media (max-width: @midLimitWidth) {
      --num-cols: @hovedseksjon-cols-sm;
      & > * {
        .col-setup(@hovedseksjon-cols-sm, @hovedseksjon-margin);
      }
    }
    @media (min-width: @midLimitWidth) {
      --num-cols: @hovedseksjon-cols-md;
      & > * {
        .col-setup(@hovedseksjon-cols-md, @hovedseksjon-margin);
      }
    }
    @media (min-width: @desktopLimitWidth) {
      --num-cols: @hovedseksjon-cols-lg;
      & > * {
        .col-setup(@hovedseksjon-cols-lg, @hovedseksjon-margin);
      }
    }
  }

  &__hoved-seksjon-tema {
    margin-bottom: 2rem;

  }

  &__hoved-seksjon-tema-tittel {
    margin-bottom: 0.5em;
  }

  &__hoved-seksjon-tema-lenker {
    margin: 0;
    padding: 0;
    list-style: none;

    li {
      margin-bottom: 0.5rem;

      .lenke {
        .lenke-stil();
      }
    }
  }

  &__bunn-separator {
    width: 100%;
    padding: 0;
    margin: 0;
    border: none;
    border-top: 1px solid @navGra60;
  }

  &__bunn-seksjon {
    display: flex;
    justify-content: flex-start;
    margin-top: 2rem;
    --num-cols: @bunnseksjon-cols;
    & > * {
      .col-setup(@bunnseksjon-cols, @bunnseksjon-margin);
    }
  }

  &__bunn-seksjon-col {
  }

  &__bunn-lenke {
    .lenke-stil();
  }

  &__bunn-lenke-stikkord {
    display: inline-block;
    list-style-type: disc;
    list-style-position: inside;
    margin: 0;
    padding: 0;

    li {
      display: inline-block;

      &:not(:first-of-type) {
        .bullet::before {
          content: 'â€¢';
          margin: 0 0.25em;
        }
      }
    }
  }

  // this media query can only be read by ie-explorer. ie grid fix
  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {
    &__hovedSeksjon {
      display: -ms-grid;
      -ms-grid-columns: 1fr 1fr 1fr;
    }

    &__seksjon {
      &:nth-child(2) {
        -ms-grid-column: 2;
      }

      &:nth-child(3) {
        -ms-grid-column: 3;
      }

      &:nth-child(4) {
        -ms-grid-column: 1;
        -ms-grid-row: 2;
      }

      &:nth-child(5) {
        -ms-grid-column: 2;
        -ms-grid-row: 2;
      }

      &:nth-child(6) {
        -ms-grid-column: 3;
        -ms-grid-row: 2;
      }

      &:nth-child(7) {
        -ms-grid-column: 1;
        -ms-grid-row: 3;
      }

      &:nth-child(8) {
        -ms-grid-column: 2;
        -ms-grid-row: 3;
      }

      &:nth-child(9) {
        -ms-grid-column: 3;
        -ms-grid-row: 3;
      }

      &:nth-child(10) {
        -ms-grid-column: 1;
        -ms-grid-row: 4;
      }

      &:nth-child(11) {
        -ms-grid-column: 2;
        -ms-grid-row: 4;
      }

      &:nth-child(12) {
        -ms-grid-column: 3;
        -ms-grid-row: 4;
      }
    }
  }
}
